# Release 0.41.1 (2026-02-19)

## Fixed

- **Add missing CHANGELOG.md entries** — 0.41.0 and 0.33.0 releases were missing from the summary index

## Changed

- **Convert commit protocol to release checklist** — merged three separate sections (Changelog Management, Version Bumping, Release Commit) into a single mandatory checklist to prevent missed changelog entries
- **Extract test helpers to shared modules** — `buildWizardResultFromStore`, `simulateSkillSelections`, `extractSkillIdsFromAssignment`, `buildTestProjectConfig`, `createMockSkillDefinition`, `createMockStack` moved from individual test files to `helpers.ts`
- **Extract test fixtures to shared modules** — `METHODOLOGY_TEST_SKILLS`, `EXTRA_DOMAIN_TEST_SKILLS`, `COMPILE_LOCAL_SKILL` moved from inline test data to `create-test-source.ts`
- **Use shared temp dir helpers** — replaced raw `mkdtemp`/`rm` with `createTempDir`/`cleanupTempDir` across user journey tests
- **Simplify agent-fetcher test mock** — use `importOriginal` spread instead of manually duplicating consts

## Added

- **New user journeys integration test** — `user-journeys.integration.test.ts` for end-to-end wizard/compile flows

## Files Changed

- `CHANGELOG.md` — added missing 0.41.0 and 0.33.0 entries
- `docs/guides/commit-protocol.md` — release checklist format
- `package.json` — version bump to 0.41.1
- `src/cli/lib/__tests__/fixtures/create-test-source.ts` — new shared fixtures
- `src/cli/lib/__tests__/helpers.ts` — new shared helper functions
- `src/cli/lib/__tests__/integration/init-end-to-end.integration.test.ts` — use shared helpers
- `src/cli/lib/__tests__/user-journeys/compile-flow.test.ts` — use shared fixtures and factories
- `src/cli/lib/__tests__/user-journeys/config-precedence.test.ts` — use shared temp dir helpers
- `src/cli/lib/__tests__/user-journeys/edit-recompile.test.ts` — use shared factories
- `src/cli/lib/__tests__/user-journeys/install-compile.test.ts` — use shared helpers
- `src/cli/lib/__tests__/user-journeys/user-journeys.integration.test.ts` — new file
- `src/cli/lib/agents/agent-fetcher.test.ts` — simplified mock
