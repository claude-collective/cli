# Release 0.39.0 (2026-02-19)

## Breaking Changes

- `meta-framework` subcategory removed — use `framework` instead
- `web-extras` domain removed — all web categories now use `web` domain
- `parentDomain` field removed from `CategoryDefinition`
- `preloadedSkills` and `subcategoryAliases` removed from `DefaultMappings` type and agent-mappings.yaml
- `preselectAgentsFromSkills()` renamed to `preselectAgentsFromDomains()` (different signature)
- `getParentDomain()` and `getParentDomainSelections()` removed from wizard store
- `parentDomainSelections` prop removed from `StepBuild`, `useFrameworkFiltering`, and `useBuildStepProps`
- `buildCategoriesForDomain()` no longer accepts `parentDomainSelections` parameter

## Changed

- **Meta-frameworks merged into framework** — Next.js, Remix, Nuxt now appear in the `framework` category alongside React, Vue, Angular, SolidJS. Single conflict group replaces separate framework + meta-framework conflicts.
- **Dependency rules updated** — React-specific libraries (zustand, redux-toolkit, react-query, etc.) now accept meta-framework IDs (nextjs-app-router, remix) as valid prerequisites via `needsAny`
- **shadcn-ui dependency split** — requires both a React-based framework (via needsAny) and Tailwind (separate rule)
- **Agent preselection simplified** — uses static `DOMAIN_AGENTS` map keyed by domain instead of extracting skill prefixes and matching against `agentSkillPrefixes`
- **Agents step rewritten** — domain-grouped layout (Web, API, CLI, Meta) with section headers, scroll support via `useMeasuredHeight`/`SCROLL_VIEWPORT`, and "Continue without agents" option
- **CheckboxGrid simplified** — removed `ListItem` wrapper type, always shows continue option (even with 0 selections), flattened rendering
- **`base-framework` subcategory key** — stacks.yaml uses `base-framework` (not `meta-framework`) for Vue Composition API in Nuxt stacks
- **Alternatives consolidated** — single "Frontend Framework" group includes both base and meta-frameworks

## Removed

- `web-extras` domain from Domain type, Zod schema, JSON schemas, domain selection UI, and display name map
- `meta-framework` subcategory from Subcategory type, Zod schema, JSON schemas, skills-matrix categories, and test fixtures
- `parentDomain` from CategoryDefinition type, Zod schema, JSON schema, and 8 category definitions in skills-matrix.yaml
- `preloadedSkills` section from agent-mappings.yaml (55 lines)
- `subcategoryAliases` section from agent-mappings.yaml (13 lines)
- `OPTIONAL_AGENTS` constant, `extractSkillPrefixes()`, `computeAgentPreselection()` from wizard store
- Parent domain selectors (`getParentDomain`, `getParentDomainSelections`) from wizard store
- Web-extras section from architecture reference documentation

## Files Changed

- `src/cli/types/matrix.ts` — Domain, Subcategory, CategoryDefinition types
- `src/cli/lib/schemas.ts` — Zod schemas (domain, subcategory, categoryDefinition, defaultMappings)
- `src/cli/consts.ts` — DEFAULT_SCRATCH_DOMAINS
- `src/schemas/*.json` — all three JSON schemas
- `config/skills-matrix.yaml` — categories, relationships (conflicts, requires, alternatives)
- `config/stacks.yaml` — meta-framework → base-framework rename
- `src/cli/defaults/agent-mappings.yaml` — remove preloadedSkills, subcategoryAliases
- `src/cli/lib/loading/defaults-loader.ts` — DefaultMappings type
- `src/cli/components/wizard/` — domain-selection, step-agents, step-build, checkbox-grid, utils, wizard
- `src/cli/components/hooks/` — use-build-step-props, use-framework-filtering
- `src/cli/lib/wizard/build-step-logic.ts` — remove parentDomainSelections parameter
- `src/cli/stores/wizard-store.ts` — domain-based preselection, remove parent domain selectors
