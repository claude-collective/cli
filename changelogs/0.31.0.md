# Release 0.31.0 (2026-02-16)

## Added

- **CLAUDE.md project instructions** -- Comprehensive project instructions for AI agents with decision trees for test helpers, type narrowing, and error handling; code conventions for file naming, imports, and constants; TypeScript enforcement rules; architecture quick reference; common patterns and checklists.
- **Test fixture structure** -- Comprehensive static fixture structure in `test/fixtures/` for configs, matrix files, plugin structures, stacks, and agents. Complements dynamic factory functions in `helpers.ts` for validation tests where data isn't modified.
- **Feature proposal documentation** -- New `docs/features/` directory for feature proposals and implementation guides.
- **Scroll viewport implementation guide** -- `docs/implementation-scroll-viewport.md` documenting virtual windowing implementation plan with dynamic terminal resize handling for fixed-height CLI content.
- **Boundary cast pattern documentation** -- Double cast pattern for branded Record types (`as unknown as Record<BrandedKey, BrandedValue>`) documented in TypeScript bible with explanation of why object literal keys can't satisfy branded types.
- **Enhanced test patterns documentation** -- Added comprehensive test helper and fixture patterns to `clean-code-standards.md` including `createTempDir/cleanupTempDir` usage, test factory function signatures, static fixture organization, and proper test data construction examples.
- **Test helper utilities** -- `createTempDir()`, `cleanupTempDir()`, `createTestSource()`, `createMockCategory()` utilities with proper documentation.

## Changed

- **Standardized test files** -- All test files now use shared helper functions from `__tests__/helpers.ts` instead of raw `mkdtemp/rm` calls. Replaced hardcoded filenames with `STANDARD_FILES` constants. Extracted `writeConfigYaml` helper for config test setup.
- **Improved test helper utilities** -- Added JSDoc comments to `createComprehensiveMatrix` and `createBasicMatrix`, exported `createSkillContent` and `createAgentYamlContent` for reuse, added boundary cast comments for YAML parse operations.
- **Agent YAML structure** -- Agent test fixtures now include `id` and `title` fields in proper structure.
- **Updated TODO** -- Marked U6 (Interactive Skill Search) as DONE, added completed research for U9 (Fixed Height CLI Content), documented implementation plan with virtual windowing approach, added new tasks U12-U14.
- **Test readability** -- Reduced code duplication through shared utilities and improved test maintainability.

## Fixed

- **Compile command output directory** -- `ensureDir(outputDir)` call moved before dry-run flag check to ensure directory exists even in preview mode, preventing errors when dry-run attempts to validate paths.
- **Type safety** -- Added proper boundary cast comments throughout test files for type assertions at parse boundaries.

## Removed

- **Obsolete documentation files** -- Removed 6 outdated documentation files: `SKILL-CONSUME-UX-RESEARCH.md` (superseded by implementation), `documentation-bible.md` (consolidated into clean-code-standards), `cli-agent-invocation-research.md` (completed research), `known-issues.md` (issues resolved or moved to GitHub), `ux-2.0-multi-source-implementation.md` (implemented), `ux-2.0-multi-source.md` (implemented).
- **Unused .gitignore entries** -- Removed commented-out entries for CLAUDE.md and TODO files that should be tracked in the repository.
